# OS 및 일반적인 지식

## OS(Operating System : 운영체제)

* OS는, IT에서 중요한 S/W이다. 최근에는 H/W보다 S/W가 IT기술 발전에 더 크게 기여하고 있다.
* 다양한 스마트 디바이스들이 존재하고, 기업이 제공하는 플랫폼 위에서 다양한 어플리케이션을 개발한 시대이므로, OS의 기본을 이해하고 나면 활용할 수 있는 기술들이 많아진다.
  

### 1. 운영체제(OS)란?

* 운영체제(OS: Operating System): 컴퓨터 시스템의 자원들을 효율적으로 관리 하며, 사용자가 컴퓨터를 **편리하고 효과적으로 사용할 수 있도록 환경을 제공(abstraction을 제공)하는 여러 프로그램의 모임**. 
  * ex) CPU - process가 관리, Memory - address space가 관리, Disk - file이 관리.
* 컴퓨터와 하드웨어(CPU, I/O) 바로 위에 설치되어, 사용자 및 다른 모든 소프트웨어와 하드웨어를 연결하는 중개자 역할을 한다.
  자원의 공유 및 분배를 위한 policy를 제공.



#### Abstraction?

* 프로그램(Program):
  컴퓨터를 실행시키기 위한 일련의 순차적으로 작성된 명령어 모음. 컴퓨터 시스템의 disk와 같은 secondary storage에 바이너리 형태로 저장.

* 프로세스(Process):

  실행되고 있는 프로그램의 추상화(abstraction). Progran counter, stack, data section 등을 포함.

* 주소공간(Address Space):
  프로세스가 차지하는 메모리 공간. Protection Domain으로써, 서로의 주소공간을 침범할 수 없다.

* 파일(File):

  프로세스에서 읽고 쓸 수 잇는 Persistent storage.

* 포트(Port):
  컴퓨터간에 메세지를 주고받는 communication end point. 여러가지 프로세스가 네트워크 안에서 섞이지 않게 만들어 준다.

* 커널(Kernel): 

  운영체제의 핵심 부분. 시스템의 모든 것을 완전하게 통제하는 기능을 한다.

  * 커널의 역할: 보안, 자원 관리, 추상화



#### 운영체제의 역할

1. 프로그램들이 자원(resource)을 필요로 할 때 자원을 할당해준다.

   자원은 한정적이므로, 효율적인 관리를 해준다.
   (자원: CPU 시간, 메모리 공간, 파일 저장 공간, 입출력 장치 등등)

2. 각각 자원을 할당받은 프로그램들이 서로의 영역을 침범 혹은, 자원을 침범하지 않게 하고, 컴퓨터의 부적절한 사용을 방지하는 **제어프로그램의 역할**을 한다.



#### 운영체제의 구조

* 멀티 프로그래밍(Multi-programming)
  * 컴퓨터 내에 CPU와 다양한 I/O장치들이 있다.
    CPU에 들어 간 프로그램이 하나 밖에 없을 때, 프로그램이 입력 대기 상태일 경우, CPU는 작동을 하지 않아 효율성이 떨어진다.
    이를 해결 하기 위해 메모리에 여러 개의 Job(프로그램,프로세스 통칭)을 저장해 두고, 하나의 Job 실행 중 I/O작업 등이 발생해 유휴 시간이 생겼을 때, 다른 Job을 시작하여 CPU의 효율성을 증가 시킴.
    이로서 여러개의 작업(Job)을 메모리에 동시에 유지시킨다.
  * 다만, User가 실행중인 작업에 대해 관여할 수 없어, 다른 작업이 수행되려면 현재 수행 중인 작업이 I/O를 해야한다.(자발적 양보(voluntary yield)에 의존)
    우선순위가 높은 작업을 먼저 처리 해야할 때 문제가 발생할 가능성이 높으며, 이는 Job Scheduling으로도 해결 할 수 없음.
* 타임 셰어링(Time-sharing)
  * 멀티 프로그래밍에서 확장된 개념. 멀티 태스킹(Multi-tasking)이라고도 함.
  * CPU가 **스케쥴링**을 통해 작업들을 빠르게 Switching 하면서, 마치 동시에 프로그래밍이 구성되는 것 처럼 느껴지게 한다.
  * 메모리가 모자라는 경우, 스와핑(swapping)을 통해 프로세스를 가상메모리(Virtual Memory)에 저장한다. 



### 2. 운영체제의 작동 (Operating System Operations)

* 현대의 운영체제는 인터럽트(Inturrupt)를 기반으로 한다.
  실행할 프로세스가 없다면 운영체제도 작동을 하지 않고 기다리고, 어떠한 인터럽트나 트랩이 발생하면서 이벤트가 발생한다.

  * 인터럽트: 인터럽트 발생 시,(ex: 컴퓨터 부팅 시, 암호입력) 인터럽트의 대응이 끝난 후, 그 다음 명령어를 수행하거나 대기상태로 돌입하기 위해OS는 명령어의 주소를 저장한다.

    1. 외부 인터럽트(H/W inturrupt): 키보드, 마우스 등과 같이 외부에 기반하여 발생하는 인터럽트.

    2. 내부 인터럽트(S/W inturrupt): 프로그램 안에서 실행되는 인터럽트.

       

* 하드웨어 보안
  * 듀얼모드(Dual-Mode Execution)

    * 운영체제가 유저모드(User mode)와 커널 모드(Kernel mode)로 나누어서 동작하는 것.

    * 유저 어플리케이션이 운영체제의 중요한 데이터에 접근해서 변경하는 것을 막기 위하여 두 가지 모드로 나눈 것이다.

      > User Mode:
      >
      > * Kernel 모드에 비해 낮은 권한의 실행모드
      > * 어플리케이션이 실행 되는 모드. 시스템에 영향을 주는 연산은 커널모드에서만 실행 가능 해, 하드웨어 보안 유지.
      > * Privilege 명령어 실행 불가능.
      > * CPU 내부에 모드 비트(mode bit)를 두어 사용자 프로그램을 감시한다.
      >   (각각의 명령어에 mode bit가 심어져 있으며, 명령어의 mode bit와 시스템 상의 mode bit가 같을 시에만 명령어 사용 가능.)

      

      > Kernel Mode:
      >
      > * 모든 권한을 가진 실행 모드
      > * 운영체제가 실행 되는 모드
      > * Privilege명령어 실행 및 레지스터 접근 가능.
      >   ex) I/O 장치 제어 명령어, 메모리 관리 레지스터 CR3

    * 유저 어플리케이션이 커널 모드에서만 제공되는 인스트럭션을 사용하려는 경우, 유저 모드 프로세스 내에서 비트(Bit)를 변경하는 **시스템 콜(System call)**을 실행한다.

      > 시스템 콜(System call):
      > OS의 커널이 제공하는 서비스에 대해, 응용프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스.
      > 프로그래밍 언어에서 지원하지 않는 기능에 대하여 운영체제의 루틴을 호출하여 이용하는 것.
      >
      > ![img](https://blog.kakaocdn.net/dn/oYzTi/btqyXq5GNUC/T5KVZpgkaS1z1FpkegbKhK/img.png)



## 스케줄링

#### 스케줄링이란?

* 프로세스가 생성되어 실행될 때 필요한 시스템의 여러 자원을 해당 프로세스에 할당하는 작업을 의미.
  다중 프로그램을 가능하게 한다.

* 프로세스가 생성되어 완료될 때 까지 프로세스는 여러종류의 스케쥴링 과정을 거치는데,
  이 때의 스케줄링의 종류로는 장기 스케줄링, 중기 스케줄링, 단기 스케줄링이 있다.

  | 이름          | 설명                                                         |
  | ------------- | ------------------------------------------------------------ |
  | 장기 스케줄링 | 어떤 프로세스가 시스템의 자원을 차지할 수 있도록 할것인가를 결정하여 준비상태 큐로 보내는 작업.<br />작업 스케줄링 또는 상위 스케줄링이라고도 하며, 이러한 스케줄링은 작업 스케줄러에 의해 수행. |
  | 중기 스케줄링 | 어떤 프로세스들이 CPU를 할당 받을 것인지 결정하는 작업.<br />CPU를 할당 받으려는 프로세스가 많을 경우 프로세스를 일시 보류 시킨 후 활성하 하여 일시적으로 부하를 조절. |
  | 단기 스케줄링 | 프로세스가 실행되기 위해 CPU를 할당받는 시기와 특정 프로세스를 지정하는 작업.<br />프로세서 스케줄링 또는 하위 스케줄링이라고도 한다.<br />프로세서 스케줄링 및 문맥 교환은 프로세서 스케줄러에 의해 수행. |



#### 스케줄링의 목적

* 스케줄링은 CPU나 자원을 효율적으로 사용하기 위한 정책으로, 아래와 같은 목적을 가지고있다.
  1. 공정성: 모든 프로세스에 공정하게 할당.
  2. 처리율(량)증가: 단위 시간당 프로세스를 처리하는 비율(양)을 증가.
  3. CPU 이용률 증가: 프로세스 실행과정에서 주 기억장치를 액세스 하거나, 입출력 명령실행 등의 원인에 의해 발생할 수 있는 CPU 낭비시간을 줄이고, CPU가 순수하게 프로세스를 실행하는 시간 비율을 증가.
  4. 우선순위 제도: 우선순위가 높은 프로세스를 먼저 실행
  5. 오버헤드 최소화: 오버헤드를 최소화
  6. 응답시간 최소화: 작업을 지시하고,반응하기 시작하는 시간을 최소화.
     (* 응답시간(Respinse Time): 하나의 요청에 첫번째 응답이 나올 때 까지의 시간 )
  7. 반환시간 최소화: 프로세스를 제출한 시간부터 실행이 완료 될 때 까지 걸리는 시간을 최소화.
     (* 반환시간(Turnaround Time): 메모리에 적재되기 위해 기다린 시간, 준비상태 큐에서 대기한 시간, CPU에서 실행하는 시간, 입출력 시간을 합친 시간)
  8. 대기시간 최소화: 프로세스가 준비상태 큐에서 대기하는 시간을 최소화.
     (* 대기시간(Waiting Time): 준비 상태 큐에서 대기하는 시간)
  9. 균형있는 자원의 사용: 메모리, 입출력 장치등의 자원을 균형있게 사용.
  10. 무한 연기 회피: 자원을 사용하기 위해 무한정 연기되는 상태를 회피.



### 프로세서 스케줄링의 기법

#### * 비선점 스케줄링

* 이미 할당된 CPU를 다른 프로세스가 강제로 빼앗아 사용할 수 없는 스케줄링 기법.
* 프로세스가 CPU를 할당 받으면, 해당 프로세스가 완료될 때 까지 CPU를 사용. 
* 특징:
  * 프로세스 응답시간의 예측이 용이.
  * 일괄 처리 방식에 적합.
  * 중요한 작업(짧은 작업)이 중요하지 않은 작업(긴 작업)을 기다리는 경우가 발생할 수 있다.
* 비선점 스케줄링의 종류:
  * FCFS, SJF, 우선순위, HRN, 기한부 등의 알고리즘.



#### * 선점 스케줄링

* 하나의 프로세스가 CPU를 할당받아 실행하고 있을 때, 우선순위가 높은 다른 프로세스가 CPU를 강제로 빼앗아 사용할 수 있는 스케줄링 기법.

* 우선 순위가 높은 프로세스를 빠르게 처리할 수 있다.

* 특징:

  * 빠른 응답시간을 요구하는 대화식 시분할 시스템에 사용 됨.

  * 많은 오버헤드를 초래.

  * 선점이 가능하도록, 일정 시간 배당에 대한 인터럽트용 타이머 클록이 필요하다.

    >  인터럽트용 타이머 클록:
    > 하나의 시스템 내에서 동작하는 장치들을 감시하기 위해 주기적인 신호를 발생하는 것.
    > 하나의 프로세스가 자원을 독점하지 못하도록 방지하기 위해 사용.

* 선점 스케줄링의 종류:

  * 라운드 로빈, SRT, 선점 우선순위, 다단계 큐, 다단계 피드백 큐 등의 알고리즘이 있다.





## 터미널 사용 방법

#### 터미널이란?

* 컴퓨터와 사용자 간의 서로 소통시켜주는 인터페이스. 컴퓨터와 소통하기 위해서 키보드를 사용하는 것을 말한다.
* Shell을 기본적으로 사용하고 있으며, Linux OS에서는 기본적으로 bash,tcsh등이 사용되고 Window에서는 cmd를 기반으로 사용되고 있다.
  * Shell: 사용자가 명령을 내리면, 그 명령을 해석하여 커널에 전달해주는 인터페이스 역할. GUI와, CLI로 나뉜다.
    * GUI(Graphic User Interface): 그래픽 유저 인터페이스. 
      사용자가 편리하고 직관적으로 알아 볼 수 있도록 그래픽으로 입출력등의 기능을 수행해, 송출한다.
      ex) 윈도우를 처음 켰을 때 보이는 아이콘들.
    * CLI(Command Line Interface): 명령어 기반 인터페이스.
      터미널 등의 프로그램을 통해서 문자열을 입력하고, 문자로 반환된 결과를 확인하는 인터페이스.



#### 사용하는 이유

* 일부 작업의 경우, 그래픽 응용 프로그램 및 메뉴보다 터미널을 사용하여 작업을 완료하는 것이 빠르기 때문.
* 더 많은 명령과 스크립트에 액세스 할 수 있기 때문.



#### 사용 방법

* Window 나 UNIX내의 응용프로그램 검색 창에 CMD 혹은 Terminal 입력 후, 원하는 명령어를 입력한다.
  Window 내에선 터미널을 사용할 수 있는 프로그램을 CMD / 명령 프롬프트 라고 불리며,
  UNIX 내에선 터미널을 사용할 수 있는 프로그램을 터미널 이라고 부른다.